<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    .demo {
        font-size: 16px;
    }

    .demo p {
        width: 3em;
        height: 3em;
        background: blue;
    }
</style>

<body>

    <div class="demo">
        <p></p>
    </div>
    <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>

    <script type="shtml">
        var personArr = [{
            name: '王港',
            src: './src/img/3.png',
            des: '颈椎不好',
            sex: 'm',
            age: 18
        }, {
            name: '刘莹',
            src: './src/img/5.png',
            des: '我是谁',
            sex: 'f',
            age: 23
        }, {
            name: '王秀莹',
            src: './src/img/4.png',
            des: '我很好看',
            sex: 'f',
            age: 25
        }, {
            name: '刘金雷',
            src: './src/img/1.png',
            des: '你没有见过陌生的脸',
            sex: 'm',
            age: 15
        }, {
            name: '刘飞翔',
            src: './src/img/2.png',
            des: '瓜皮刘',
            sex: 'm',
            age: 20
        }];

        // personArr.forEach(function (ele, index, self) {

        //     console.log(arguments);

        //     // console.log(ele, index, self);
        //     // console.log(this);
        //     this[index].innerText = ele.name
        // }, document.getElementsByTagName('li'))

        Array.prototype.myForEach = function (func) {
            var _arr = this;
            len = _arr.length;
            param2 = arguments[1] || window;
            for (var i = 0; i < len; i++) {
                func.apply(param2, [_arr[i], i, _arr])
            }

        }


        personArr.myForEach(function (ele, index, self) {
            // console.log(ele, index, self);
            // console.log(this);
            this[index].innerText = ele.name
        }, document.getElementsByTagName('li'))
    </script>

    <script type="shtml">
        // Filter 过滤

        var personArr = [{
            name: '王港',
            src: './src/img/3.png',
            des: '颈椎不好',
            sex: 'm',
            age: 18
        }, {
            name: '刘莹',
            src: './src/img/5.png',
            des: '我是谁',
            sex: 'f',
            age: 23
        }, {
            name: '王秀莹',
            src: './src/img/4.png',
            des: '我很好看',
            sex: 'f',
            age: 25
        }, {
            name: '刘金雷',
            src: './src/img/1.png',
            des: '你没有见过陌生的脸',
            sex: 'm',
            age: 15
        }, {
            name: '刘飞翔',
            src: './src/img/2.png',
            des: '瓜皮刘',
            sex: 'm',
            age: 20
        }];

        //  参数必填为functiong  ele index self  执行完毕之后返回true或者false  
        //  filter 返回一个新数组，不改变原数据；

        var newArr = personArr.filter(function (ele, index, self) {
            // console.log(ele, index, self, this);
            // if(ele.sex == 'm'){
            //     return true
            // } else {
            //     return false 
            // }
            return ele.sex == 'm'
        });

        Array.prototype.myFilter = function (func) {
            var _arr = this;
            len = _arr.length;
            param2 = arguments[1] || window;
            newArr = [];
            for (var i = 0; i < len; i++) {
                func.apply(param2, [_arr[i], i, _arr]) ? newArr.push(_arr[i]) : '';
            }
            return newArr;

        }

        
        var newArr = personArr.myFilter(function (ele, index, self) {                
                console.log(ele, index, self, this)
                return ele.sex == 'm';
        });
    </script>
    <script type="shtml">
        // map 映射
    // 返回新数组  传参为方法 
    var personArr = [{
            name: '王港',
            src: './src/img/3.png',
            des: '颈椎不好',
            sex: 'm',
            age: 18
        }, {
            name: '刘莹',
            src: './src/img/5.png',
            des: '我是谁',
            sex: 'f',
            age: 23
        }, {
            name: '王秀莹',
            src: './src/img/4.png',
            des: '我很好看',
            sex: 'f',
            age: 25
        }, {
            name: '刘金雷',
            src: './src/img/1.png',
            des: '你没有见过陌生的脸',
            sex: 'm',
            age: 15
        }, {
            name: '刘飞翔',
            src: './src/img/2.png',
            des: '瓜皮刘',
            sex: 'm',
            age: 20
        }];
        var newArr = personArr.map(function (ele, index, self) {
                    ele.name += 10;
                return ele;
        })
        console.log(newArr);
        
    </script>

    <script type="shtml">
        var personArr = [{
            name: '王港',
            src: './src/img/3.png',
            des: '颈椎不好',
            sex: 'm',
            age: 18
        }, {
            name: '刘莹',
            src: './src/img/5.png',
            des: '我是谁',
            sex: 'f',
            age: 23
        }, {
            name: '王秀莹',
            src: './src/img/4.png',
            des: '我很好看',
            sex: 'f',
            age: 25
        }, {
            name: '刘金雷',
            src: './src/img/1.png',
            des: '你没有见过陌生的脸',
            sex: 'm',
            age: 15
        }, {
            name: '刘飞翔',
            src: './src/img/2.png',
            des: '瓜皮刘',
            sex: 'm',
            age: 20
        }];

        // every  所有项都满足条件则返回true 有一项不满足则返回false
        // some 有一项满足条件则返回true 


       var flag = personArr.some(function (ele, index, self) {
            return ele.age > 23

        })
        console.log(flag);
        
    </script>
    <script type="shtml">
        // reduce 从左向右遍历 执行完毕会返回一个值  
        var strCookie =
            "BAIDUID=B98392F64A69E0CA6E182EE51316D520:FG1; BIDUPSID=B98392F64A69E0CA6E182EE51316D520; PSTM=1553842747; BD_UPN=12314753; sug=3; ORIGIN=0; bdime=21110; MCITY=-294%3A289%3A; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; delPer=0; BD_CK_SAM=1; PSINO=3; ZD_ENTRY=empty; pgv_pvi=3860567040; pgv_si=s7817672704; BD_HOME=1; BDRCVFR[feWj1Vr5u3D]=I67x6TjHwwYf0; BDSFRCVID=1p-sJeCCxG3fJJT9GZ2kHB7jRXuxnOriNpFg3J; H_BDCLCKID_SF=JJkO_D_atKvjDbTnMITHh-F-5fIX5-RLf2vx2POF5lOTJh0Rbx65DTF1Wl5q-UKJXbT30tJLb4DaStJbLjbke6oWeH-OqT-sb5vfsJO2-JT2KROvhj4aKKuyyxom3bvxtKcZaf-X3MFKjpntjP6CWbLbh4nHax6j3DkeaDcJ-J8XhIDlejbP; sugstore=1; H_PS_PSSID=26523_1462_28795_21097_18560_28769_28724_28558_28830_28585_26350_28518_28626_28605; H_PS_645EC=0a8bwaJMRPyeiHePtnm8hKvkD9Q2CRIj8htXwSHd2U%2BQ%2BirHEpW%2Bq9IFAfJoeBNlFIz4; BDSVRTM=332";

        function parseCookie(str) {
            var arrCookie = str.split(';');
            var cookieObj = {};
            arrCookie.reduce(function (prevValue, curValue, index, self) {
                var curArr = curValue.split('=');
                cookieObj[curArr[0]] = curArr[1];
                // console.log(prevValue, curArr, index);
                return prevValue;
            }, cookieObj)
            // console.log(arrCookie);
            return cookieObj;
        }

        var cookieObj = parseCookie(strCookie);
        console.log(cookieObj);
    </script>


</body>

</html>